project:
  name: ""
  description: ""

maestro:
  version: "2.0.0"
  created: ""
  project_root: ""

agents:
  orchestrator:
    id: "orchestrator"
    model: "opus"
  planner:
    id: "planner"
    model: "opus"
  workers:
    count: 4
    default_model: "sonnet"
    models:
      worker3: "opus"
      worker4: "opus"
    boost: false

continuous:
  enabled: false
  max_iterations: 10
  pause_on_failure: true

watcher:
  debounce_sec: 0.3
  scan_interval_sec: 60
  dispatch_lease_sec: 300
  max_in_progress_min: 30
  busy_check_interval: 2
  busy_check_max_retries: 30
  busy_patterns: "Working|Thinking|Planning|Sending|Searching"
  idle_stable_sec: 5
  cooldown_after_clear: 3
  notify_lease_sec: 120

retry:
  command_dispatch: 5
  task_dispatch: 5
  orchestrator_notification_dispatch: 10
  task_execution:
    enabled: true
    retryable_exit_codes: [1, 124, 137]  # general error, timeout, killed
    max_retries: 2
    cooldown_sec: 30

queue:
  priority_aging_sec: 300

limits:
  max_pending_commands: 20
  max_pending_tasks_per_worker: 10
  max_entry_content_bytes: 65536
  max_yaml_file_bytes: 5242880

daemon:
  shutdown_timeout_sec: 90

logging:
  level: "info"

quality_gates:
  enabled: false                    # 品質ゲートの有効化フラグ
  skip_gates: false                 # 緊急モード (--skip-gates フラグで有効化)
  thresholds:
    max_task_failure_rate: 0.3     # タスク失敗率の上限 (30%)
    min_task_success_rate: 0.7     # タスク成功率の下限 (70%)
    max_consecutive_failures: 3    # 連続失敗の上限
    max_task_duration_sec: 300     # タスク実行時間の上限 (5分)
    max_pending_tasks: 50          # ペンディングタスクの上限
  enforcement:
    pre_task_check: true           # タスク実行前のチェック
    post_task_check: false         # タスク実行後のチェック
    failure_action: "warn"         # 失敗時の動作: "warn" or "block"
    log_violations: true           # 違反をログに記録
